FROM openjdk:11

WORKDIR /app

ARG START_MODULE_NAME_ARG="all-in-one"
ENV MODULE_NAME=${START_MODULE_NAME_ARG}

ARG APP_VERSION_ARG
ENV APP_VERSION=${APP_VERSION_ARG}

ARG MODULE_TO_START_IF_ALL_IN_ONE_ARG
ENV MODULE_TO_START=${MODULE_TO_START_IF_ALL_IN_ONE_ARG}

COPY /target/${MODULE_NAME}-${APP_VERSION}.jar /app

CMD java -jar /app/${MODULE_NAME}-${APP_VERSION}.jar